source("C:/Users/ecche/Desktop/Tesi/HFCS/HFCS2014/Code.R", echo = TRUE)
# Install and load necessary libraries
install.packages("dplyr")
# Rename variables
data_der <- data_der %>%
rename(ws = HW0010)
# Install and load necessary libraries
install.packages("dplyr")
# Install and load necessary libraries
install.packages("dplyr")
library(dplyr)
# Set directory
setwd("C:\\Users\\ecche\\Desktop\\Tesi\\HFCS\\HFCS2014\\dati_wave2_csv")
# Load data
data_der <- read.csv("d1.csv", sep = ",", header = TRUE)
repl_weights <- read.csv("w.csv",sep=",",header = TRUE)
data_core1 <- read.csv("p1.csv",sep = ",", header = TRUE)
data_core2 <- read.csv("h1.csv",sep = ",",header=TRUE)
data_noncore2 <- read.csv("hn1.csv",sep = ",",header=TRUE)
data_noncore1 <- read.csv("pn1.csv",sep = ",", header = TRUE)
# Rename variables
data_der <- data_der %>%
rename(ws = HW0010)
repl_weights <- repl_weights%>%
rename(SA0010 = sa0010)
View(repl_weights)
View(data_der)
View(data_noncore1)
View(data_noncore2)
View(data_core1)
View(data_core2)
View(data_der)
data_sub <- data_der %>% select(SA0010)
View(data_sub)
data_sub <- data_der %>% select(SA0010, ws, DH0001,DHAGEH1,DHGENDERH1,DHEDUH1,
DHEMPH1, DA1110 , DA110i,DA1120, DA1130, DA1131,
DA1140 , DA2101 , DA2102, DA2103 , DA2104, DA2105 ,
DA2105i,  DA2106 , DA2107 , DA2108 , DA2109 , DA2109i,
DA3001, DL1000, D12000 , HD1800  )
# Select only relevant variables
data_sub <- data_der %>% select(SA0010, ws, DH0001,DHAGEH1,DHGENDERH1,DHEDUH1,
DHEMPH1, DA1110 , DA1110i,DA1120, DA1130, DA1131,
DA1140 , DA2101 , DA2102, DA2103 , DA2104, DA2105 ,
DA2105i,  DA2106 , DA2107 , DA2108 , DA2109 , DA2109i,
DA3001, DL1000, D12000 , HD1800  )
# Select only relevant variables
data_sub <- data_der %>% select(SA0010, ws, DH0001,DHAGEH1,DHGENDERH1,DHEDUH1,
DHEMPH1, DA1110 , DA1110i,DA1120, DA1130, DA1131,
DA1140 , DA2101 , DA2102, DA2103 , DA2104, DA2105 ,
DA2105i,  DA2106 , DA2107 , DA2108 , DA2109 , DA2109i,
DA3001, DL1000, DI2000 , HD1800  )
data_sub <- data_der %>% select(SA0010, ws, DH0001,DHAGEH1,DHGENDERH1,DHEDUH1,
DHEMPH1, DA1110 , DA1110i,DA1120, DA1130, DA1131,
DA1140 , DA2101 , DA2102, DA2103 , DA2104, DA2105 ,
DA2105i,  DA2106 , DA2107 , DA2108 , DA2109 , DA2109i,
DA3001, DL1000, DI2000)
View(data_sub)
View(data_core1)
View(data_core1)
View(data_core2)
View(data_core2)
data_der <- read.csv("d1.csv", sep = ",", header = TRUE)
data_core1 <- read.csv("p1.csv",sep = ",", header = TRUE)
data_core2 <- read.csv("h1.csv",sep = ",",header=TRUE)
data_noncore2 <- read.csv("hn1.csv",sep = ",",header=TRUE)
data_noncore1 <- read.csv("pn1.csv",sep = ",", header = TRUE)
data_der <- read.csv("d1.csv", sep = ",", header = TRUE)
repl_weights <- read.csv("w.csv",sep=",",header = TRUE)
data_core1 <- read.csv("p1.csv",sep = ",", header = TRUE)
data_core2 <- read.csv("h1.csv",sep = ",",header=TRUE)
data_noncore2 <- read.csv("hn1.csv",sep = ",",header=TRUE)
data_noncore1 <- read.csv("pn1.csv",sep = ",", header = TRUE)
# Rename variables
repl_weights <- repl_weights%>%
rename(SA0010 = sa0010)
# Select only relevant variables
data_sub <- data_der %>% select(SA0010, HW0010, DH0001,DHAGEH1,DHGENDERH1,DHEDUH1,
DHEMPH1, DA1110 , DA1110i,DA1120, DA1130, DA1131,
DA1140 , DA2101 , DA2102, DA2103 , DA2104, DA2105 ,
DA2105i,  DA2106 , DA2107 , DA2108 , DA2109 , DA2109i,
DA3001, DL1000, DI2000)
df_merged <- data_sub %>%
left_join(data_core2 %>% select(SA0010, HD1800), by = "SA0010"
# Select and merge column HD1800 (investment attitude) from data_core2
df_merged <- data_sub %>%
df_merged <- data_sub %>%
left_join(data_core2 %>% select(SA0010, HD1800), by = "SA0010")
View(df_merged)
View(data_core1)
data_der <- data_der %>%
rename(RA0010=DHIDH1)
View(data_der)
# Install and load necessary libraries
install.packages("dplyr")
# Rename variables
repl_weights <- repl_weights%>%
rename(SA0010 = sa0010)
# Install and load necessary libraries
install.packages("dplyr")
library(dplyr)
# Set directory
setwd("C:\\Users\\ecche\\Desktop\\Tesi\\HFCS\\HFCS2014\\dati_wave2_csv")
--------------------------------------------------------------------------------
# DATA MANIPULATION
--------------------------------------------------------------------------------
# Load data
data_der <- read.csv("d1.csv", sep = ",", header = TRUE)
# Load data
data_der <- read.csv("d1.csv", sep = ",", header = TRUE)
repl_weights <- read.csv("w.csv",sep=",",header = TRUE)
data_core1 <- read.csv("p1.csv",sep = ",", header = TRUE)
data_core2 <- read.csv("h1.csv",sep = ",",header=TRUE)
data_noncore2 <- read.csv("hn1.csv",sep = ",",header=TRUE)
data_noncore1 <- read.csv("pn1.csv",sep = ",", header = TRUE)
# Rename variables
repl_weights <- repl_weights %>%
rename(SA0010 = sa0010)
data_der <- data_der %>%
rename(RA0010=DHIDH1)
